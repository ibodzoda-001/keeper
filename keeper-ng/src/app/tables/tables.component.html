<div class="container mt-5 w-50">
  <div class="w-100 row justify-content-end mt-3">
    <div>
      <div [class.table-style-free]="tablesArray[8] == undefined || tablesArray[8].length == 0"
           [class.table-style-busy]="tablesArray[8] != undefined && tablesArray[8].length != 0"
           [class.table-style-reserved]="reservedArray[8] == 1"
           (click)="changeModalStatus(8)" data-toggle="modal" data-target=".bd-example-modal-lg" class="rounded p-3 d-inline-block">
        <div>8</div>
        <div *ngIf="(tablesArray[8] == undefined || tablesArray[8].length == 0) && reservedArray[8] != 1">Свободно</div>
        <div *ngIf="tablesArray[8] != undefined && tablesArray[8].length != 0">Занято</div>
        <div *ngIf="reservedArray[8] == 1">Резерв</div>
      </div>
      <div [class.table-style-free]="tablesArray[7] == undefined || tablesArray[7].length == 0"
           [class.table-style-busy]="tablesArray[7] != undefined && tablesArray[7].length != 0"
           [class.table-style-reserved]="reservedArray[7] == 1" (click)="changeModalStatus(7)" data-toggle="modal" data-target=".bd-example-modal-lg" class="rounded p-3 d-inline-block ml-3">
        <div>7</div>
        <div *ngIf="(tablesArray[7] == undefined || tablesArray[7].length == 0) && reservedArray[7] != 1">Свободно</div>
        <div *ngIf="tablesArray[7] != undefined && tablesArray[7].length != 0">Занято</div>
        <div *ngIf="reservedArray[7] == 1">Резерв</div>
      </div>
    </div>
  </div>

  <div class="w-100 row justify-content-end mt-3">
    <div [class.table-style-free]="tablesArray[6] == undefined || tablesArray[6].length == 0"
         [class.table-style-busy]="tablesArray[6] != undefined && tablesArray[6].length != 0"
         [class.table-style-reserved]="reservedArray[6] == 1" (click)="changeModalStatus(6)" data-toggle="modal" data-target=".bd-example-modal-lg" class="rounded p-3">
      <div>6</div>
      <div *ngIf="(tablesArray[6] == undefined || tablesArray[6].length == 0) && reservedArray[6] != 1">Свободно</div>
      <div *ngIf="tablesArray[6] != undefined && tablesArray[6].length != 0">Занято</div>
      <div *ngIf="reservedArray[6] == 1">Резерв</div>
    </div>
  </div>

  <div class="w-100 row mt-3 justify-content-end">
    <div [class.table-style-free]="tablesArray[5] == undefined || tablesArray[5].length == 0"
         [class.table-style-busy]="tablesArray[5] != undefined && tablesArray[5].length != 0"
         [class.table-style-reserved]="reservedArray[5] == 1" (click)="changeModalStatus(5)" data-toggle="modal" data-target=".bd-example-modal-lg" class="rounded p-3">
      <div>5</div>
      <div *ngIf="(tablesArray[5] == undefined || tablesArray[5].length == 0) && reservedArray[5] != 1">Свободно</div>
      <div *ngIf="tablesArray[5] != undefined && tablesArray[5].length != 0">Занято</div>
      <div *ngIf="reservedArray[5] == 1">Резерв</div>
    </div>
  </div>

  <div class="w-100 row mt-3">
    <div class="d-inline-block">
      <div [class.table-style-free]="tablesArray[1] == undefined || tablesArray[1].length == 0"
           [class.table-style-busy]="tablesArray[1] != undefined && tablesArray[1].length != 0"
           [class.table-style-reserved]="reservedArray[1] == 1" (click)="changeModalStatus(1)" data-toggle="modal" data-target=".bd-example-modal-lg" class="rounded p-3" style="height: max-content">
        <div>1</div>
        <div *ngIf="(tablesArray[1] == undefined || tablesArray[1].length == 0) && reservedArray[1] != 1">Свободно</div>
        <div *ngIf="tablesArray[1] != undefined && tablesArray[1].length != 0">Занято</div>
        <div *ngIf="reservedArray[1] == 1">Резерв</div>
      </div>
      <div [class.table-style-free]="tablesArray[2] == undefined || tablesArray[2].length == 0"
           [class.table-style-busy]="tablesArray[2] != undefined && tablesArray[2].length != 0"
           [class.table-style-reserved]="reservedArray[2] == 1" (click)="changeModalStatus(2)" data-toggle="modal" data-target=".bd-example-modal-lg" class="rounded p-3 mt-3" style="height: max-content">
        <div style="text-align: center">2</div>
        <div *ngIf="(tablesArray[2] == undefined || tablesArray[2].length == 0) && reservedArray[2] != 1">Свободно</div>
        <div *ngIf="tablesArray[2] != undefined && tablesArray[2].length != 0">Занято</div>
        <div *ngIf="reservedArray[2] == 1">Резерв</div>
      </div>
    </div>
    <div class="ml-auto d-inline-block">
      <div [class.table-style-free]="tablesArray[3] == undefined || tablesArray[3].length == 0"
           [class.table-style-busy]="tablesArray[3] != undefined && tablesArray[3].length != 0"
           [class.table-style-reserved]="reservedArray[3] == 1" (click)="changeModalStatus(3)" data-toggle="modal" data-target=".bd-example-modal-lg" class="rounded p-3 mr-5 d-inline-block">
        <div>3</div>
        <div *ngIf="(tablesArray[3] == undefined || tablesArray[3].length == 0) && reservedArray[3] != 1">Свободно</div>
        <div *ngIf="tablesArray[3] != undefined && tablesArray[3].length != 0">Занято</div>
        <div *ngIf="reservedArray[3] == 1">Резерв</div>
      </div>
      <div [class.table-style-free]="tablesArray[4] == undefined || tablesArray[4].length == 0"
           [class.table-style-busy]="tablesArray[4] != undefined && tablesArray[4].length != 0"
           [class.table-style-reserved]="reservedArray[4] == 1" (click)="changeModalStatus(4)" data-toggle="modal" data-target=".bd-example-modal-lg" class="rounded p-3 d-inline-block" style="vertical-align: bottom; display: table; height: 175px; overflow: hidden;">
        <div>4</div>
        <div *ngIf="(tablesArray[4] == undefined || tablesArray[4].length == 0) && reservedArray[4] != 1">Свободно</div>
        <div *ngIf="tablesArray[4] != undefined && tablesArray[4].length != 0">Занято</div>
        <div *ngIf="reservedArray[4] == 1">Резерв</div>
      </div>
    </div>
  </div>

  <div class="w-100 row justify-content-center mt-4">
    <div class="pt-3 pl-5 pr-5 rounded" style="border: 4px solid dimgray; border-bottom: none">
      <h3>&nbsp;&nbsp;&nbsp;Барная стойка&nbsp;&nbsp;&nbsp;</h3>
    </div>
  </div>
</div>

<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <button [hidden]="true" type="button" id="close_modal" class="close" data-dismiss="modal" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
  <div class="modal-dialog modal-lg">
    <div style="height: 92vh" class="modal-content px-3 row">
      <div class="d-inline-block" style="overflow: scroll; width: 45%">
        <h5 class="mt-3">Блюда</h5>
        <div class="p-2 mt-2 rounded border mealStyle" *ngFor="let meal of dish" (click)="addMealToTable(meal.name, meal.price, meal.id)" >
          {{meal.name}} - <span class="text-success">{{ meal.price }} сом.</span>
        </div>
        <h5 class="mt-3">Напитки</h5>
        <div class="p-2 mt-2 rounded border mealStyle" *ngFor="let meal of drink" (click)="addMealToTable(meal.name, meal.price, meal.id)">
          {{meal.name}} - <span class="text-success">{{ meal.price }} сом.</span>
        </div>
        <h5 class="mt-3">Десерты</h5>
        <div class="p-2 mt-2 rounded border mealStyle" *ngFor="let meal of dessert" (click)="addMealToTable(meal.name, meal.price, meal.id)">
          {{meal.name}} - <span class="text-success">{{ meal.price }} сом.</span>
        </div>
        <h5 class="mt-3">Фрукты</h5>
        <div class="p-2 mt-2 rounded border mealStyle" *ngFor="let meal of hookah" (click)="addMealToTable(meal.name, meal.price, meal.id)">
          {{meal.name}} - <span class="text-success">{{ meal.price }} сом.</span>
        </div>
      </div>
      <div class="ml-3" style="width: 53%">
        <h5 class="mt-3">Стол №{{modalStatus}}</h5>
        <div style="overflow: scroll; height: 75vh">
          <div *ngIf="modalStatus == 1">
            <div *ngFor="let meal of tablesArray[1]; let i = index" class="meal-div-style rounded border p-2 mt-2 mr-2">
              <span class="d-inline-block">{{ meal.name }} : <span class="text-success">{{meal.price}} сом.</span></span>
              <div class="d-inline-block float-right">
                <div class="d-inline-block mr-5">
                  <button class="btn btn-light" (click)="decreaseMealAmount(1, i)"> < </button>
                  <span class="text-black-50">&nbsp;{{meal.count}}&nbsp;</span>
                  <button class="btn btn-light" (click)="increaseMealAmount(1, i)"> > </button>
                </div>
                <button (click)="removeMealFromTable(1 , i)" class="d-inline-block btn btn-secondary px-2 py-1">&times;</button>
              </div>
            </div>
          </div>
          <div *ngIf="modalStatus == 2">
            <div *ngFor="let meal of tablesArray[2]; let i = index" class="meal-div-style rounded border p-2 mt-2">
              <span>{{ meal.name }} - <span class="text-success">{{meal.price}} сом.</span></span>
              <div class="d-inline-block float-right">
                <div class="d-inline-block mr-5">
                  <button class="btn btn-light" (click)="decreaseMealAmount(2, i)"> < </button>
                  <span class="text-black-50">&nbsp;{{meal.count}}&nbsp;</span>
                  <button class="btn btn-light" (click)="increaseMealAmount(2, i)"> > </button>
                </div>
                <button (click)="removeMealFromTable(2 , i)" class="d-inline-block btn btn-secondary px-2 py-1">&times;</button>
              </div>
            </div>
          </div>
          <div *ngIf="modalStatus == 3">
            <div *ngFor="let meal of tablesArray[3]; let i = index" class="meal-div-style rounded border p-2 mt-2">
              <span>{{ meal.name }} - <span class="text-success">{{meal.price}} сом.</span></span>
              <div class="d-inline-block float-right">
                <div class="d-inline-block mr-5">
                  <button class="btn btn-light" (click)="decreaseMealAmount(3, i)"> < </button>
                  <span class="text-black-50">&nbsp;{{meal.count}}&nbsp;</span>
                  <button class="btn btn-light" (click)="increaseMealAmount(3, i)"> > </button>
                </div>
                <button (click)="removeMealFromTable(3 , i)" class="d-inline-block btn btn-secondary px-2 py-1">&times;</button>
              </div>
            </div>
          </div>
          <div *ngIf="modalStatus == 4">
            <div *ngFor="let meal of tablesArray[4]; let i = index" class="meal-div-style rounded border p-2 mt-2">
              <span>{{ meal.name }} - <span class="text-success">{{meal.price}} сом.</span></span>
              <div class="d-inline-block float-right">
                <div class="d-inline-block mr-5">
                  <button class="btn btn-light" (click)="decreaseMealAmount(4, i)"> < </button>
                  <span class="text-black-50">&nbsp;{{meal.count}}&nbsp;</span>
                  <button class="btn btn-light" (click)="increaseMealAmount(4, i)"> > </button>
                </div>
                <button (click)="removeMealFromTable(4 , i)" class="d-inline-block btn btn-secondary px-2 py-1">&times;</button>
              </div>
            </div>
          </div>
          <div *ngIf="modalStatus == 5">
            <div *ngFor="let meal of tablesArray[5]; let i = index" class="meal-div-style rounded border p-2 mt-2">
              <span>{{ meal.name }} - <span class="text-success">{{meal.price}} сом.</span></span>
              <div class="d-inline-block float-right">
                <div class="d-inline-block mr-5">
                  <button class="btn btn-light" (click)="decreaseMealAmount(5, i)"> < </button>
                  <span class="text-black-50">&nbsp;{{meal.count}}&nbsp;</span>
                  <button class="btn btn-light" (click)="increaseMealAmount(5, i)"> > </button>
                </div>
                <button (click)="removeMealFromTable(5 , i)" class="d-inline-block btn btn-secondary px-2 py-1">&times;</button>
              </div>
            </div>
          </div>
          <div *ngIf="modalStatus == 6">
            <div *ngFor="let meal of tablesArray[6]; let i = index" class="meal-div-style rounded border p-2 mt-2">
              <span>{{ meal.name }} - <span class="text-success">{{meal.price}} сом.</span></span>
              <div class="d-inline-block float-right">
                <div class="d-inline-block mr-5">
                  <button class="btn btn-light" (click)="decreaseMealAmount(6, i)"> < </button>
                  <span class="text-black-50">&nbsp;{{meal.count}}&nbsp;</span>
                  <button class="btn btn-light" (click)="increaseMealAmount(6, i)"> > </button>
                </div>
                <button (click)="removeMealFromTable(6 , i)" class="d-inline-block btn btn-secondary px-2 py-1">&times;</button>
              </div>
            </div>
          </div>
          <div *ngIf="modalStatus == 7">
            <div *ngFor="let meal of tablesArray[7]; let i = index" class="meal-div-style rounded border p-2 mt-2">
              <span>{{ meal.name }} - <span class="text-success">{{meal.price}} сом.</span></span>
              <div class="d-inline-block float-right">
                <div class="d-inline-block mr-5">
                  <button class="btn btn-light" (click)="decreaseMealAmount(7, i)"> < </button>
                  <span class="text-black-50">&nbsp;{{meal.count}}&nbsp;</span>
                  <button class="btn btn-light" (click)="increaseMealAmount(7, i)"> > </button>
                </div>
                <button (click)="removeMealFromTable(7 , i)" class="d-inline-block btn btn-secondary px-2 py-1">&times;</button>
              </div>
            </div>
          </div>
          <div *ngIf="modalStatus == 8">
            <div *ngFor="let meal of tablesArray[8]; let i = index" class="meal-div-style rounded border p-2 mt-2">
              <span>{{ meal.name }} - <span class="text-success">{{meal.price}} сом.</span></span>
              <div class="d-inline-block float-right">
                <div class="d-inline-block mr-5">
                  <button class="btn btn-light" (click)="decreaseMealAmount(8, i)"> < </button>
                  <span class="text-black-50">&nbsp;{{meal.count}}&nbsp;</span>
                  <button class="btn btn-light" (click)="increaseMealAmount(8, i)"> > </button>
                </div>
                <button (click)="removeMealFromTable(8 , i)" class="d-inline-block btn btn-secondary px-2 py-1">&times;</button>
              </div>
            </div>

          </div>
        </div>

        <div *ngIf="sumArray[modalStatus] != 0" class="mt-2">
          <h6 class="d-inline-block">Итог: <span class="text-success">{{sumArray[modalStatus]}} сом.</span></h6>
          <button (click)="payForTable()" class="d-inline-block mr-3 float-right btn btn-success">Оплатить</button>
        </div>

        <div class="mt-2 mb-3 float-right" *ngIf="sumArray[modalStatus] == 0">
          <button *ngIf="reservedArray[modalStatus] == 0" class="btn mr-3 btn-warning" (click)="reserveTable()">Резервировать</button>
          <button *ngIf="reservedArray[modalStatus] == 1" class="btn mr-3 btn-warning" (click)="reserveTable()">Убрать резерв</button>
        </div>

      </div>
    </div>
  </div>
</div>
